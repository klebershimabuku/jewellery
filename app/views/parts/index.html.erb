<div id="custom_table">
<table class='default_table'>
  <tr>
    <th colspan='6' class='align_to_right'><%= link_to t(:btn_add), new_part_path %></th>
  </tr>
  <tr>
    <th colspan='6'><%=t :module_parts %></th>
  </tr>
  <% if !@parts.nil? %>
  <tr>
    <th>Title</th>
    <th>Set</th>
    <th>Price</th>
    <th>Part type</th>
    <th>Updated</th>
    <th></th>
  </tr>
<% @parts.each do |part| %>
  <tr>
    <td><%= on_the_spot_edit part, :title, :callback => 'reload' %></td>
    <td><%= on_the_spot_edit part, :set, :display_text => display_current(part.set), :callback => 'reload' %></td>
    <td><%= on_the_spot_edit part, :price, :display_text => display_current(part.price), :callback => 'reload' %></td>
    <td><%= on_the_spot_edit part, :part_type_id, :type => :select, :data => @part_types.collect { |p| [p.id, show_dashes_for_none(p.title) ] }, :callback => 'reload' %></td>
    <td><%= part.updated_at.strftime('%Y-%B-%d %H:%M') %></td>
    <td><%= link_to 'Destroy', part, :confirm => 'Are you sure?', :method => :delete %></td>
  </tr>
<% end %>
<% else %>
  <tr>
    <td><%=t :no_parts_found %><%= link_to t(:start_adding), new_part_path %></td>
  </tr>
<% end %>
</table>
</div>
